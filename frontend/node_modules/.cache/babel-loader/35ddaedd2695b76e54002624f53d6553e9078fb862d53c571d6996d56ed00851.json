{"ast":null,"code":"var _jsxFileName = \"/app/frontend/src/pages/BroadcastGroups.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { toast } from 'sonner';\nimport axios from 'axios';\nimport { useAuth } from '../contexts/AuthContext';\nimport { Send, RefreshCw, Users, CheckCircle, XCircle, Clock, AlertTriangle, Loader2, Radio, Square, CheckSquare, FileText, ChevronDown, ChevronUp } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = `${BACKEND_URL}/api`;\nconst WS_URL = BACKEND_URL.replace('http', 'ws').replace('https', 'wss');\nconst BroadcastGroups = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [accounts, setAccounts] = useState([]);\n  const [groups, setGroups] = useState([]);\n  const [templates, setTemplates] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState({});\n  const [message, setMessage] = useState('');\n  const [selectedGroups, setSelectedGroups] = useState([]);\n  const [selectAll, setSelectAll] = useState(true);\n  const [broadcasting, setBroadcasting] = useState(false);\n  const [broadcastId, setBroadcastId] = useState(null);\n  const [broadcastStatus, setBroadcastStatus] = useState(null);\n  const [expandedAccounts, setExpandedAccounts] = useState({});\n  const [showTemplates, setShowTemplates] = useState(false);\n  const wsRef = useRef(null);\n  useEffect(() => {\n    fetchData();\n  }, []);\n  useEffect(() => {\n    if (user && broadcasting) {\n      connectWebSocket();\n    }\n    return () => {\n      if (wsRef.current) {\n        wsRef.current.close();\n      }\n    };\n  }, [user, broadcasting]);\n  const connectWebSocket = useCallback(() => {\n    if (!user) return;\n    const ws = new WebSocket(`${WS_URL}/ws/broadcast/${user.id}`);\n    ws.onopen = () => {\n      console.log('WebSocket connected');\n    };\n    ws.onmessage = event => {\n      const data = JSON.parse(event.data);\n      handleBroadcastUpdate(data);\n    };\n    ws.onclose = () => {\n      console.log('WebSocket disconnected');\n      // Reconnect if still broadcasting\n      if (broadcasting) {\n        setTimeout(connectWebSocket, 2000);\n      }\n    };\n    wsRef.current = ws;\n  }, [user, broadcasting]);\n  const handleBroadcastUpdate = data => {\n    setBroadcastStatus(prev => {\n      const newStatus = {\n        ...prev\n      };\n      if (data.type === 'account_status' || data.type === 'message_sent' || data.type === 'flood_wait' || data.type === 'error' || data.type === 'account_complete' || data.type === 'account_error') {\n        if (!newStatus.accounts) newStatus.accounts = {};\n        newStatus.accounts[data.phone] = data.data;\n      }\n      if (data.type === 'broadcast_complete') {\n        setBroadcasting(false);\n        toast.success('Broadcast concluído!');\n        return data.data;\n      }\n      return newStatus;\n    });\n  };\n  const fetchData = async () => {\n    try {\n      const [accountsRes, groupsRes, templatesRes] = await Promise.all([axios.get(`${API}/accounts`), axios.get(`${API}/groups`), axios.get(`${API}/templates`)]);\n      setAccounts(accountsRes.data);\n      setGroups(groupsRes.data);\n      setTemplates(templatesRes.data);\n\n      // Initialize expanded state\n      const expanded = {};\n      accountsRes.data.forEach(acc => {\n        expanded[acc.id] = true;\n      });\n      setExpandedAccounts(expanded);\n    } catch (error) {\n      toast.error('Erro ao carregar dados');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const refreshAccountGroups = async accountId => {\n    setRefreshing(prev => ({\n      ...prev,\n      [accountId]: true\n    }));\n    try {\n      await axios.get(`${API}/accounts/${accountId}/groups?refresh=true`);\n      toast.success('Grupos atualizados!');\n      fetchData();\n    } catch (error) {\n      var _error$response, _error$response$data;\n      toast.error(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.detail) || 'Erro ao atualizar grupos');\n    } finally {\n      setRefreshing(prev => ({\n        ...prev,\n        [accountId]: false\n      }));\n    }\n  };\n  const handleSelectAll = () => {\n    if (selectAll) {\n      setSelectedGroups([]);\n    } else {\n      setSelectedGroups(groups.map(g => g.id));\n    }\n    setSelectAll(!selectAll);\n  };\n  const handleSelectGroup = groupId => {\n    setSelectedGroups(prev => {\n      if (prev.includes(groupId)) {\n        return prev.filter(id => id !== groupId);\n      }\n      return [...prev, groupId];\n    });\n    setSelectAll(false);\n  };\n  const handleSelectTemplate = template => {\n    setMessage(template.content);\n    setShowTemplates(false);\n    toast.success(`Template \"${template.name}\" selecionado`);\n  };\n  const startBroadcast = async () => {\n    if (!message.trim()) {\n      toast.error('Digite uma mensagem');\n      return;\n    }\n    const targetGroups = selectAll ? null : selectedGroups;\n    if (!selectAll && selectedGroups.length === 0) {\n      toast.error('Selecione pelo menos um grupo');\n      return;\n    }\n    setBroadcasting(true);\n    setBroadcastStatus({\n      status: 'starting',\n      accounts: {},\n      total_groups: selectAll ? groups.length : selectedGroups.length,\n      sent_count: 0,\n      error_count: 0\n    });\n    try {\n      const response = await axios.post(`${API}/broadcast/groups`, {\n        message: message,\n        group_ids: targetGroups\n      });\n      setBroadcastId(response.data.broadcast_id);\n      toast.success(`Broadcast iniciado para ${response.data.total_groups} grupos`);\n\n      // Start polling for status\n      pollBroadcastStatus(response.data.broadcast_id);\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      setBroadcasting(false);\n      toast.error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.detail) || 'Erro ao iniciar broadcast');\n    }\n  };\n  const pollBroadcastStatus = async id => {\n    const poll = async () => {\n      if (!broadcasting) return;\n      try {\n        const response = await axios.get(`${API}/broadcast/${id}/status`);\n        setBroadcastStatus(response.data);\n        if (response.data.status === 'completed' || response.data.status === 'cancelled') {\n          setBroadcasting(false);\n          return;\n        }\n        setTimeout(poll, 1000);\n      } catch (error) {\n        console.error('Error polling status:', error);\n        setTimeout(poll, 2000);\n      }\n    };\n    poll();\n  };\n  const cancelBroadcast = async () => {\n    if (!broadcastId) return;\n    try {\n      await axios.post(`${API}/broadcast/${broadcastId}/cancel`);\n      setBroadcasting(false);\n      toast.info('Broadcast cancelado');\n    } catch (error) {\n      toast.error('Erro ao cancelar');\n    }\n  };\n  const getStatusIcon = status => {\n    switch (status) {\n      case 'connecting':\n        return /*#__PURE__*/_jsxDEV(Loader2, {\n          className: \"h-4 w-4 animate-spin text-blue-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 16\n        }, this);\n      case 'sending':\n        return /*#__PURE__*/_jsxDEV(Radio, {\n          className: \"h-4 w-4 text-neon animate-pulse\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 16\n        }, this);\n      case 'flood_wait':\n        return /*#__PURE__*/_jsxDEV(Clock, {\n          className: \"h-4 w-4 text-yellow-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 16\n        }, this);\n      case 'completed':\n        return /*#__PURE__*/_jsxDEV(CheckCircle, {\n          className: \"h-4 w-4 text-green-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 16\n        }, this);\n      case 'error':\n        return /*#__PURE__*/_jsxDEV(XCircle, {\n          className: \"h-4 w-4 text-red-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(Clock, {\n          className: \"h-4 w-4 text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'connecting':\n        return 'border-blue-400/50 bg-blue-400/10';\n      case 'sending':\n        return 'border-neon/50 bg-neon/10';\n      case 'flood_wait':\n        return 'border-yellow-400/50 bg-yellow-400/10';\n      case 'completed':\n        return 'border-green-400/50 bg-green-400/10';\n      case 'error':\n        return 'border-red-400/50 bg-red-400/10';\n      default:\n        return 'border-white/10 bg-white/5';\n    }\n  };\n  const groupsByAccount = accounts.map(account => ({\n    ...account,\n    groups: groups.filter(g => g.account_id === account.id)\n  }));\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center py-20\",\n      children: /*#__PURE__*/_jsxDEV(Loader2, {\n        className: \"h-8 w-8 animate-spin text-neon\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl md:text-4xl font-mono font-bold text-neon tracking-tight\",\n        children: \"BROADCAST GRUPOS\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-400 mt-1\",\n        children: \"Envie mensagens para todos os seus grupos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid lg:grid-cols-2 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-[#111111] border border-white/10 rounded-xl p-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-mono font-bold text-white\",\n              children: \"Mensagem\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowTemplates(!showTemplates),\n              className: \"text-sm text-neon hover:text-neon/80 flex items-center space-x-1\",\n              children: [/*#__PURE__*/_jsxDEV(FileText, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Templates\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 13\n          }, this), showTemplates && templates.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 space-y-2 max-h-40 overflow-y-auto\",\n            children: templates.map(template => /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleSelectTemplate(template),\n              className: \"w-full text-left p-3 bg-background/50 rounded-lg hover:bg-neon/10 hover:border-neon/30 border border-white/10 transition-all\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm font-medium text-white\",\n                children: template.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-xs text-gray-500 truncate\",\n                children: template.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 21\n              }, this)]\n            }, template.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: message,\n            onChange: e => setMessage(e.target.value),\n            rows: 6,\n            disabled: broadcasting,\n            className: \"w-full bg-background/50 border border-white/10 rounded-lg py-3 px-4 text-white placeholder-gray-500 focus:outline-none focus:border-neon/50 focus:ring-1 focus:ring-neon/50 transition-all resize-none disabled:opacity-50\",\n            placeholder: \"Digite sua mensagem aqui...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-2 text-sm text-gray-400\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleSelectAll,\n                className: \"flex items-center space-x-1 hover:text-neon transition-colors\",\n                children: [selectAll ? /*#__PURE__*/_jsxDEV(CheckSquare, {\n                  className: \"h-4 w-4 text-neon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(Square, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Todos os grupos (\", groups.length, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 15\n            }, this), broadcasting ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: cancelBroadcast,\n              className: \"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg flex items-center space-x-2 transition-all\",\n              children: [/*#__PURE__*/_jsxDEV(XCircle, {\n                className: \"h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Cancelar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: startBroadcast,\n              disabled: !message.trim() || groups.length === 0,\n              className: \"bg-neon hover:bg-neon/90 text-background font-bold py-2 px-4 rounded-lg flex items-center space-x-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed\",\n              children: [/*#__PURE__*/_jsxDEV(Send, {\n                className: \"h-5 w-5\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Enviar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 11\n        }, this), broadcastStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-[#111111] border border-white/10 rounded-xl p-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-mono font-bold text-white mb-4\",\n            children: \"Progresso\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-400\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `font-medium ${broadcastStatus.status === 'completed' ? 'text-green-400' : broadcastStatus.status === 'running' ? 'text-neon' : broadcastStatus.status === 'cancelled' ? 'text-red-400' : 'text-gray-400'}`,\n                children: broadcastStatus.status === 'completed' ? 'Concluído' : broadcastStatus.status === 'running' ? 'Em andamento' : broadcastStatus.status === 'cancelled' ? 'Cancelado' : 'Iniciando...'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-400\",\n                children: \"Enviados\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-neon font-mono\",\n                children: [broadcastStatus.sent_count || 0, \" / \", broadcastStatus.total_groups || 0]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this), broadcastStatus.error_count > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-between text-sm\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-400\",\n                children: \"Erros\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-red-400 font-mono\",\n                children: broadcastStatus.error_count\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 384,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full bg-background/50 rounded-full h-2 mt-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-neon h-2 rounded-full transition-all duration-300\",\n                style: {\n                  width: `${broadcastStatus.total_groups ? (broadcastStatus.sent_count || 0) / broadcastStatus.total_groups * 100 : 0}%`\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-[#111111] border border-white/10 rounded-xl p-5\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-mono font-bold text-white mb-4\",\n            children: [\"Contas & Grupos (\", accounts.length, \" contas, \", groups.length, \" grupos)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 13\n          }, this), accounts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8\",\n            children: [/*#__PURE__*/_jsxDEV(Users, {\n              className: \"h-12 w-12 text-gray-600 mx-auto mb-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-400\",\n              children: \"Nenhuma conta conectada\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3 max-h-[500px] overflow-y-auto pr-2\",\n            children: groupsByAccount.map(account => {\n              var _broadcastStatus$acco;\n              const accountStatus = broadcastStatus === null || broadcastStatus === void 0 ? void 0 : (_broadcastStatus$acco = broadcastStatus.accounts) === null || _broadcastStatus$acco === void 0 ? void 0 : _broadcastStatus$acco[account.phone];\n              const isExpanded = expandedAccounts[account.id];\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `border rounded-xl overflow-hidden transition-all ${accountStatus ? getStatusColor(accountStatus.status) : 'border-white/10 bg-white/5'}`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center justify-between p-3 cursor-pointer\",\n                  onClick: () => setExpandedAccounts(prev => ({\n                    ...prev,\n                    [account.id]: !prev[account.id]\n                  })),\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-3\",\n                    children: [accountStatus ? getStatusIcon(accountStatus.status) : /*#__PURE__*/_jsxDEV(Users, {\n                      className: \"h-4 w-4 text-gray-400\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 440,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-white font-medium\",\n                        children: account.phone\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 443,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"text-xs text-gray-500\",\n                        children: [account.groups.length, \" grupos\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 444,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 442,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 436,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-2\",\n                    children: [accountStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-right mr-2\",\n                      children: [accountStatus.status === 'flood_wait' && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-yellow-400\",\n                        children: [\"Aguardando \", accountStatus.flood_wait, \"s\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 452,\n                        columnNumber: 33\n                      }, this), accountStatus.status === 'sending' && accountStatus.current_group && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-neon truncate max-w-[150px] block\",\n                        children: accountStatus.current_group\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 457,\n                        columnNumber: 33\n                      }, this), accountStatus.status === 'completed' && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-green-400\",\n                        children: [accountStatus.sent, \"/\", accountStatus.total]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 462,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: e => {\n                        e.stopPropagation();\n                        refreshAccountGroups(account.id);\n                      },\n                      disabled: refreshing[account.id] || broadcasting,\n                      className: \"p-1.5 text-gray-400 hover:text-neon hover:bg-neon/10 rounded-lg transition-all disabled:opacity-50\",\n                      title: \"Atualizar grupos\",\n                      children: /*#__PURE__*/_jsxDEV(RefreshCw, {\n                        className: `h-4 w-4 ${refreshing[account.id] ? 'animate-spin' : ''}`\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 478,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 469,\n                      columnNumber: 27\n                    }, this), isExpanded ? /*#__PURE__*/_jsxDEV(ChevronUp, {\n                      className: \"h-4 w-4 text-gray-400\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 482,\n                      columnNumber: 29\n                    }, this) : /*#__PURE__*/_jsxDEV(ChevronDown, {\n                      className: \"h-4 w-4 text-gray-400\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 484,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 448,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 23\n                }, this), isExpanded && account.groups.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"border-t border-white/10 p-2 space-y-1 max-h-48 overflow-y-auto\",\n                  children: account.groups.map(group => /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: `flex items-center space-x-2 p-2 rounded-lg cursor-pointer transition-all ${selectedGroups.includes(group.id) || selectAll ? 'bg-neon/10 text-white' : 'hover:bg-white/5 text-gray-400'}`,\n                    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"checkbox\",\n                      checked: selectAll || selectedGroups.includes(group.id),\n                      onChange: () => handleSelectGroup(group.id),\n                      disabled: broadcasting,\n                      className: \"rounded border-gray-600 text-neon focus:ring-neon/50 bg-background/50\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 501,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-sm truncate\",\n                      children: group.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 508,\n                      columnNumber: 31\n                    }, this), group.is_channel && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"text-xs bg-blue-500/20 text-blue-400 px-1.5 py-0.5 rounded\",\n                      children: \"Canal\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 510,\n                      columnNumber: 33\n                    }, this)]\n                  }, group.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 493,\n                    columnNumber: 29\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 491,\n                  columnNumber: 25\n                }, this), isExpanded && account.groups.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"border-t border-white/10 p-4 text-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-gray-500 text-sm\",\n                    children: \"Clique em atualizar para carregar os grupos\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 521,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 25\n                }, this)]\n              }, account.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 422,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 274,\n    columnNumber: 5\n  }, this);\n};\n_s(BroadcastGroups, \"oddMqXl1HHkGzRV0OPDPpb6xbYI=\", false, function () {\n  return [useAuth];\n});\n_c = BroadcastGroups;\nexport default BroadcastGroups;\nvar _c;\n$RefreshReg$(_c, \"BroadcastGroups\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","toast","axios","useAuth","Send","RefreshCw","Users","CheckCircle","XCircle","Clock","AlertTriangle","Loader2","Radio","Square","CheckSquare","FileText","ChevronDown","ChevronUp","jsxDEV","_jsxDEV","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","API","WS_URL","replace","BroadcastGroups","_s","user","accounts","setAccounts","groups","setGroups","templates","setTemplates","loading","setLoading","refreshing","setRefreshing","message","setMessage","selectedGroups","setSelectedGroups","selectAll","setSelectAll","broadcasting","setBroadcasting","broadcastId","setBroadcastId","broadcastStatus","setBroadcastStatus","expandedAccounts","setExpandedAccounts","showTemplates","setShowTemplates","wsRef","fetchData","connectWebSocket","current","close","ws","WebSocket","id","onopen","console","log","onmessage","event","data","JSON","parse","handleBroadcastUpdate","onclose","setTimeout","prev","newStatus","type","phone","success","accountsRes","groupsRes","templatesRes","Promise","all","get","expanded","forEach","acc","error","refreshAccountGroups","accountId","_error$response","_error$response$data","response","detail","handleSelectAll","map","g","handleSelectGroup","groupId","includes","filter","handleSelectTemplate","template","content","name","startBroadcast","trim","targetGroups","length","status","total_groups","sent_count","error_count","post","group_ids","broadcast_id","pollBroadcastStatus","_error$response2","_error$response2$data","poll","cancelBroadcast","info","getStatusIcon","className","fileName","_jsxFileName","lineNumber","columnNumber","getStatusColor","groupsByAccount","account","account_id","children","onClick","value","onChange","e","target","rows","disabled","placeholder","style","width","_broadcastStatus$acco","accountStatus","isExpanded","flood_wait","current_group","sent","total","stopPropagation","title","group","checked","is_channel","_c","$RefreshReg$"],"sources":["/app/frontend/src/pages/BroadcastGroups.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { toast } from 'sonner';\nimport axios from 'axios';\nimport { useAuth } from '../contexts/AuthContext';\nimport { \n  Send, RefreshCw, Users, CheckCircle, XCircle, Clock, \n  AlertTriangle, Loader2, Radio, Square, CheckSquare,\n  FileText, ChevronDown, ChevronUp\n} from 'lucide-react';\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = `${BACKEND_URL}/api`;\nconst WS_URL = BACKEND_URL.replace('http', 'ws').replace('https', 'wss');\n\nconst BroadcastGroups = () => {\n  const { user } = useAuth();\n  const [accounts, setAccounts] = useState([]);\n  const [groups, setGroups] = useState([]);\n  const [templates, setTemplates] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [refreshing, setRefreshing] = useState({});\n  const [message, setMessage] = useState('');\n  const [selectedGroups, setSelectedGroups] = useState([]);\n  const [selectAll, setSelectAll] = useState(true);\n  const [broadcasting, setBroadcasting] = useState(false);\n  const [broadcastId, setBroadcastId] = useState(null);\n  const [broadcastStatus, setBroadcastStatus] = useState(null);\n  const [expandedAccounts, setExpandedAccounts] = useState({});\n  const [showTemplates, setShowTemplates] = useState(false);\n  const wsRef = useRef(null);\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    if (user && broadcasting) {\n      connectWebSocket();\n    }\n    return () => {\n      if (wsRef.current) {\n        wsRef.current.close();\n      }\n    };\n  }, [user, broadcasting]);\n\n  const connectWebSocket = useCallback(() => {\n    if (!user) return;\n    \n    const ws = new WebSocket(`${WS_URL}/ws/broadcast/${user.id}`);\n    \n    ws.onopen = () => {\n      console.log('WebSocket connected');\n    };\n    \n    ws.onmessage = (event) => {\n      const data = JSON.parse(event.data);\n      handleBroadcastUpdate(data);\n    };\n    \n    ws.onclose = () => {\n      console.log('WebSocket disconnected');\n      // Reconnect if still broadcasting\n      if (broadcasting) {\n        setTimeout(connectWebSocket, 2000);\n      }\n    };\n    \n    wsRef.current = ws;\n  }, [user, broadcasting]);\n\n  const handleBroadcastUpdate = (data) => {\n    setBroadcastStatus(prev => {\n      const newStatus = { ...prev };\n      \n      if (data.type === 'account_status' || data.type === 'message_sent' || \n          data.type === 'flood_wait' || data.type === 'error' || \n          data.type === 'account_complete' || data.type === 'account_error') {\n        if (!newStatus.accounts) newStatus.accounts = {};\n        newStatus.accounts[data.phone] = data.data;\n      }\n      \n      if (data.type === 'broadcast_complete') {\n        setBroadcasting(false);\n        toast.success('Broadcast concluído!');\n        return data.data;\n      }\n      \n      return newStatus;\n    });\n  };\n\n  const fetchData = async () => {\n    try {\n      const [accountsRes, groupsRes, templatesRes] = await Promise.all([\n        axios.get(`${API}/accounts`),\n        axios.get(`${API}/groups`),\n        axios.get(`${API}/templates`)\n      ]);\n      \n      setAccounts(accountsRes.data);\n      setGroups(groupsRes.data);\n      setTemplates(templatesRes.data);\n      \n      // Initialize expanded state\n      const expanded = {};\n      accountsRes.data.forEach(acc => {\n        expanded[acc.id] = true;\n      });\n      setExpandedAccounts(expanded);\n      \n    } catch (error) {\n      toast.error('Erro ao carregar dados');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const refreshAccountGroups = async (accountId) => {\n    setRefreshing(prev => ({ ...prev, [accountId]: true }));\n    try {\n      await axios.get(`${API}/accounts/${accountId}/groups?refresh=true`);\n      toast.success('Grupos atualizados!');\n      fetchData();\n    } catch (error) {\n      toast.error(error.response?.data?.detail || 'Erro ao atualizar grupos');\n    } finally {\n      setRefreshing(prev => ({ ...prev, [accountId]: false }));\n    }\n  };\n\n  const handleSelectAll = () => {\n    if (selectAll) {\n      setSelectedGroups([]);\n    } else {\n      setSelectedGroups(groups.map(g => g.id));\n    }\n    setSelectAll(!selectAll);\n  };\n\n  const handleSelectGroup = (groupId) => {\n    setSelectedGroups(prev => {\n      if (prev.includes(groupId)) {\n        return prev.filter(id => id !== groupId);\n      }\n      return [...prev, groupId];\n    });\n    setSelectAll(false);\n  };\n\n  const handleSelectTemplate = (template) => {\n    setMessage(template.content);\n    setShowTemplates(false);\n    toast.success(`Template \"${template.name}\" selecionado`);\n  };\n\n  const startBroadcast = async () => {\n    if (!message.trim()) {\n      toast.error('Digite uma mensagem');\n      return;\n    }\n\n    const targetGroups = selectAll ? null : selectedGroups;\n    \n    if (!selectAll && selectedGroups.length === 0) {\n      toast.error('Selecione pelo menos um grupo');\n      return;\n    }\n\n    setBroadcasting(true);\n    setBroadcastStatus({\n      status: 'starting',\n      accounts: {},\n      total_groups: selectAll ? groups.length : selectedGroups.length,\n      sent_count: 0,\n      error_count: 0\n    });\n\n    try {\n      const response = await axios.post(`${API}/broadcast/groups`, {\n        message: message,\n        group_ids: targetGroups\n      });\n      \n      setBroadcastId(response.data.broadcast_id);\n      toast.success(`Broadcast iniciado para ${response.data.total_groups} grupos`);\n      \n      // Start polling for status\n      pollBroadcastStatus(response.data.broadcast_id);\n      \n    } catch (error) {\n      setBroadcasting(false);\n      toast.error(error.response?.data?.detail || 'Erro ao iniciar broadcast');\n    }\n  };\n\n  const pollBroadcastStatus = async (id) => {\n    const poll = async () => {\n      if (!broadcasting) return;\n      \n      try {\n        const response = await axios.get(`${API}/broadcast/${id}/status`);\n        setBroadcastStatus(response.data);\n        \n        if (response.data.status === 'completed' || response.data.status === 'cancelled') {\n          setBroadcasting(false);\n          return;\n        }\n        \n        setTimeout(poll, 1000);\n      } catch (error) {\n        console.error('Error polling status:', error);\n        setTimeout(poll, 2000);\n      }\n    };\n    \n    poll();\n  };\n\n  const cancelBroadcast = async () => {\n    if (!broadcastId) return;\n    \n    try {\n      await axios.post(`${API}/broadcast/${broadcastId}/cancel`);\n      setBroadcasting(false);\n      toast.info('Broadcast cancelado');\n    } catch (error) {\n      toast.error('Erro ao cancelar');\n    }\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'connecting':\n        return <Loader2 className=\"h-4 w-4 animate-spin text-blue-400\" />;\n      case 'sending':\n        return <Radio className=\"h-4 w-4 text-neon animate-pulse\" />;\n      case 'flood_wait':\n        return <Clock className=\"h-4 w-4 text-yellow-400\" />;\n      case 'completed':\n        return <CheckCircle className=\"h-4 w-4 text-green-400\" />;\n      case 'error':\n        return <XCircle className=\"h-4 w-4 text-red-400\" />;\n      default:\n        return <Clock className=\"h-4 w-4 text-gray-400\" />;\n    }\n  };\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'connecting': return 'border-blue-400/50 bg-blue-400/10';\n      case 'sending': return 'border-neon/50 bg-neon/10';\n      case 'flood_wait': return 'border-yellow-400/50 bg-yellow-400/10';\n      case 'completed': return 'border-green-400/50 bg-green-400/10';\n      case 'error': return 'border-red-400/50 bg-red-400/10';\n      default: return 'border-white/10 bg-white/5';\n    }\n  };\n\n  const groupsByAccount = accounts.map(account => ({\n    ...account,\n    groups: groups.filter(g => g.account_id === account.id)\n  }));\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center py-20\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-neon\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div>\n        <h1 className=\"text-3xl md:text-4xl font-mono font-bold text-neon tracking-tight\">\n          BROADCAST GRUPOS\n        </h1>\n        <p className=\"text-gray-400 mt-1\">Envie mensagens para todos os seus grupos</p>\n      </div>\n\n      <div className=\"grid lg:grid-cols-2 gap-6\">\n        {/* Message Section */}\n        <div className=\"space-y-4\">\n          <div className=\"bg-[#111111] border border-white/10 rounded-xl p-5\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h2 className=\"text-lg font-mono font-bold text-white\">Mensagem</h2>\n              <button\n                onClick={() => setShowTemplates(!showTemplates)}\n                className=\"text-sm text-neon hover:text-neon/80 flex items-center space-x-1\"\n              >\n                <FileText className=\"h-4 w-4\" />\n                <span>Templates</span>\n              </button>\n            </div>\n\n            {showTemplates && templates.length > 0 && (\n              <div className=\"mb-4 space-y-2 max-h-40 overflow-y-auto\">\n                {templates.map(template => (\n                  <button\n                    key={template.id}\n                    onClick={() => handleSelectTemplate(template)}\n                    className=\"w-full text-left p-3 bg-background/50 rounded-lg hover:bg-neon/10 hover:border-neon/30 border border-white/10 transition-all\"\n                  >\n                    <p className=\"text-sm font-medium text-white\">{template.name}</p>\n                    <p className=\"text-xs text-gray-500 truncate\">{template.content}</p>\n                  </button>\n                ))}\n              </div>\n            )}\n\n            <textarea\n              value={message}\n              onChange={(e) => setMessage(e.target.value)}\n              rows={6}\n              disabled={broadcasting}\n              className=\"w-full bg-background/50 border border-white/10 rounded-lg py-3 px-4 text-white placeholder-gray-500 focus:outline-none focus:border-neon/50 focus:ring-1 focus:ring-neon/50 transition-all resize-none disabled:opacity-50\"\n              placeholder=\"Digite sua mensagem aqui...\"\n            />\n\n            <div className=\"flex items-center justify-between mt-4\">\n              <div className=\"flex items-center space-x-2 text-sm text-gray-400\">\n                <button\n                  onClick={handleSelectAll}\n                  className=\"flex items-center space-x-1 hover:text-neon transition-colors\"\n                >\n                  {selectAll ? (\n                    <CheckSquare className=\"h-4 w-4 text-neon\" />\n                  ) : (\n                    <Square className=\"h-4 w-4\" />\n                  )}\n                  <span>Todos os grupos ({groups.length})</span>\n                </button>\n              </div>\n\n              {broadcasting ? (\n                <button\n                  onClick={cancelBroadcast}\n                  className=\"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded-lg flex items-center space-x-2 transition-all\"\n                >\n                  <XCircle className=\"h-5 w-5\" />\n                  <span>Cancelar</span>\n                </button>\n              ) : (\n                <button\n                  onClick={startBroadcast}\n                  disabled={!message.trim() || groups.length === 0}\n                  className=\"bg-neon hover:bg-neon/90 text-background font-bold py-2 px-4 rounded-lg flex items-center space-x-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  <Send className=\"h-5 w-5\" />\n                  <span>Enviar</span>\n                </button>\n              )}\n            </div>\n          </div>\n\n          {/* Broadcast Progress */}\n          {broadcastStatus && (\n            <div className=\"bg-[#111111] border border-white/10 rounded-xl p-5\">\n              <h2 className=\"text-lg font-mono font-bold text-white mb-4\">Progresso</h2>\n              \n              <div className=\"space-y-3\">\n                <div className=\"flex justify-between text-sm\">\n                  <span className=\"text-gray-400\">Status</span>\n                  <span className={`font-medium ${\n                    broadcastStatus.status === 'completed' ? 'text-green-400' :\n                    broadcastStatus.status === 'running' ? 'text-neon' :\n                    broadcastStatus.status === 'cancelled' ? 'text-red-400' : 'text-gray-400'\n                  }`}>\n                    {broadcastStatus.status === 'completed' ? 'Concluído' :\n                     broadcastStatus.status === 'running' ? 'Em andamento' :\n                     broadcastStatus.status === 'cancelled' ? 'Cancelado' : 'Iniciando...'}\n                  </span>\n                </div>\n                \n                <div className=\"flex justify-between text-sm\">\n                  <span className=\"text-gray-400\">Enviados</span>\n                  <span className=\"text-neon font-mono\">{broadcastStatus.sent_count || 0} / {broadcastStatus.total_groups || 0}</span>\n                </div>\n                \n                {broadcastStatus.error_count > 0 && (\n                  <div className=\"flex justify-between text-sm\">\n                    <span className=\"text-gray-400\">Erros</span>\n                    <span className=\"text-red-400 font-mono\">{broadcastStatus.error_count}</span>\n                  </div>\n                )}\n\n                {/* Progress bar */}\n                <div className=\"w-full bg-background/50 rounded-full h-2 mt-2\">\n                  <div \n                    className=\"bg-neon h-2 rounded-full transition-all duration-300\"\n                    style={{ \n                      width: `${broadcastStatus.total_groups ? \n                        ((broadcastStatus.sent_count || 0) / broadcastStatus.total_groups) * 100 : 0}%` \n                    }}\n                  />\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Accounts & Groups Section */}\n        <div className=\"space-y-4\">\n          <div className=\"bg-[#111111] border border-white/10 rounded-xl p-5\">\n            <h2 className=\"text-lg font-mono font-bold text-white mb-4\">\n              Contas & Grupos ({accounts.length} contas, {groups.length} grupos)\n            </h2>\n\n            {accounts.length === 0 ? (\n              <div className=\"text-center py-8\">\n                <Users className=\"h-12 w-12 text-gray-600 mx-auto mb-3\" />\n                <p className=\"text-gray-400\">Nenhuma conta conectada</p>\n              </div>\n            ) : (\n              <div className=\"space-y-3 max-h-[500px] overflow-y-auto pr-2\">\n                {groupsByAccount.map(account => {\n                  const accountStatus = broadcastStatus?.accounts?.[account.phone];\n                  const isExpanded = expandedAccounts[account.id];\n                  \n                  return (\n                    <div \n                      key={account.id}\n                      className={`border rounded-xl overflow-hidden transition-all ${\n                        accountStatus ? getStatusColor(accountStatus.status) : 'border-white/10 bg-white/5'\n                      }`}\n                    >\n                      {/* Account Header */}\n                      <div \n                        className=\"flex items-center justify-between p-3 cursor-pointer\"\n                        onClick={() => setExpandedAccounts(prev => ({\n                          ...prev,\n                          [account.id]: !prev[account.id]\n                        }))}\n                      >\n                        <div className=\"flex items-center space-x-3\">\n                          {accountStatus ? (\n                            getStatusIcon(accountStatus.status)\n                          ) : (\n                            <Users className=\"h-4 w-4 text-gray-400\" />\n                          )}\n                          <div>\n                            <p className=\"text-white font-medium\">{account.phone}</p>\n                            <p className=\"text-xs text-gray-500\">{account.groups.length} grupos</p>\n                          </div>\n                        </div>\n                        \n                        <div className=\"flex items-center space-x-2\">\n                          {accountStatus && (\n                            <div className=\"text-xs text-right mr-2\">\n                              {accountStatus.status === 'flood_wait' && (\n                                <span className=\"text-yellow-400\">\n                                  Aguardando {accountStatus.flood_wait}s\n                                </span>\n                              )}\n                              {accountStatus.status === 'sending' && accountStatus.current_group && (\n                                <span className=\"text-neon truncate max-w-[150px] block\">\n                                  {accountStatus.current_group}\n                                </span>\n                              )}\n                              {accountStatus.status === 'completed' && (\n                                <span className=\"text-green-400\">\n                                  {accountStatus.sent}/{accountStatus.total}\n                                </span>\n                              )}\n                            </div>\n                          )}\n                          \n                          <button\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              refreshAccountGroups(account.id);\n                            }}\n                            disabled={refreshing[account.id] || broadcasting}\n                            className=\"p-1.5 text-gray-400 hover:text-neon hover:bg-neon/10 rounded-lg transition-all disabled:opacity-50\"\n                            title=\"Atualizar grupos\"\n                          >\n                            <RefreshCw className={`h-4 w-4 ${refreshing[account.id] ? 'animate-spin' : ''}`} />\n                          </button>\n                          \n                          {isExpanded ? (\n                            <ChevronUp className=\"h-4 w-4 text-gray-400\" />\n                          ) : (\n                            <ChevronDown className=\"h-4 w-4 text-gray-400\" />\n                          )}\n                        </div>\n                      </div>\n\n                      {/* Groups List */}\n                      {isExpanded && account.groups.length > 0 && (\n                        <div className=\"border-t border-white/10 p-2 space-y-1 max-h-48 overflow-y-auto\">\n                          {account.groups.map(group => (\n                            <label\n                              key={group.id}\n                              className={`flex items-center space-x-2 p-2 rounded-lg cursor-pointer transition-all ${\n                                selectedGroups.includes(group.id) || selectAll\n                                  ? 'bg-neon/10 text-white'\n                                  : 'hover:bg-white/5 text-gray-400'\n                              }`}\n                            >\n                              <input\n                                type=\"checkbox\"\n                                checked={selectAll || selectedGroups.includes(group.id)}\n                                onChange={() => handleSelectGroup(group.id)}\n                                disabled={broadcasting}\n                                className=\"rounded border-gray-600 text-neon focus:ring-neon/50 bg-background/50\"\n                              />\n                              <span className=\"text-sm truncate\">{group.title}</span>\n                              {group.is_channel && (\n                                <span className=\"text-xs bg-blue-500/20 text-blue-400 px-1.5 py-0.5 rounded\">\n                                  Canal\n                                </span>\n                              )}\n                            </label>\n                          ))}\n                        </div>\n                      )}\n\n                      {isExpanded && account.groups.length === 0 && (\n                        <div className=\"border-t border-white/10 p-4 text-center\">\n                          <p className=\"text-gray-500 text-sm\">Clique em atualizar para carregar os grupos</p>\n                        </div>\n                      )}\n                    </div>\n                  );\n                })}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BroadcastGroups;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}