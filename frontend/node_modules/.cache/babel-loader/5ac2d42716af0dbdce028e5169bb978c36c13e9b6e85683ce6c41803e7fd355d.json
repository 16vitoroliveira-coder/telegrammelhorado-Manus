{"ast":null,"code":"import React,{useState}from'react';import{Link,useLocation}from'react-router-dom';import{Home,Users,MessageSquare,UserPlus,Settings,Activity,Menu,X,Radio,FileText,LogOut,User,Crown,Shield,Store}from'lucide-react';import{useAuth}from'../contexts/AuthContext';import BackgroundBubbles from'./BackgroundBubbles';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DashboardLayout=_ref=>{let{children}=_ref;const location=useLocation();const{user,logout}=useAuth();const[sidebarOpen,setSidebarOpen]=useState(window.innerWidth>=1024);const menuItems=[{icon:Home,label:'Dashboard',path:'/'},{icon:Users,label:'Contas',path:'/accounts'},{icon:Store,label:'Marketplace',path:'/marketplace'},{icon:Radio,label:'Broadcast Grupos',path:'/broadcast-groups'},{icon:FileText,label:'Templates',path:'/templates'},{icon:Activity,label:'Extrair Membros',path:'/extract'},{icon:MessageSquare,label:'Enviar Mensagens',path:'/messages'},{icon:UserPlus,label:'Adicionar ao Grupo',path:'/add-to-group'},{icon:Settings,label:'Logs',path:'/logs'},{icon:Crown,label:'Planos',path:'/plans'}];// Add admin menu item if user is admin\nif(user!==null&&user!==void 0&&user.is_admin){menuItems.push({icon:Shield,label:'Admin',path:'/admin'});}const handleLogout=()=>{logout();};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-void text-foreground font-sans\",children:[/*#__PURE__*/_jsx(BackgroundBubbles,{}),/*#__PURE__*/_jsx(\"aside\",{className:\"fixed left-0 top-0 h-full bg-[#0a0a0a] border-r border-white/10 transition-all duration-200 z-50 \".concat(sidebarOpen?'w-64':'w-0',\" overflow-hidden\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 flex flex-col h-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-mono font-bold text-neon tracking-tight\",children:\"TOXIC SYNC\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSidebarOpen(false),className:\"lg:hidden text-gray-400 hover:text-neon\",\"data-testid\":\"close-sidebar-btn\",children:/*#__PURE__*/_jsx(X,{size:24})})]}),/*#__PURE__*/_jsx(\"nav\",{className:\"space-y-2 flex-1\",children:menuItems.map(item=>{const Icon=item.icon;const isActive=location.pathname===item.path;return/*#__PURE__*/_jsxs(Link,{to:item.path,\"data-testid\":\"nav-\".concat(item.label.toLowerCase().replace(/\\s+/g,'-')),className:\"flex items-center space-x-3 px-4 py-3 rounded-md transition-all duration-200 \".concat(isActive?'bg-neon/10 text-neon border-l-4 border-neon shadow-[0_0_20px_rgba(0,255,65,0.15)]':'text-gray-400 hover:text-white hover:bg-white/5'),children:[/*#__PURE__*/_jsx(Icon,{size:20}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:item.label})]},item.path);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t border-white/10 pt-4 mt-4\",children:[user&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 px-4 py-2 mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-neon/20 p-2 rounded-full\",children:/*#__PURE__*/_jsx(User,{size:16,className:\"text-neon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-white truncate\",children:user.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 truncate\",children:user.email}),/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center mt-1 px-2 py-0.5 rounded-full text-xs \".concat(user.plan==='premium'?'bg-yellow-500/20 text-yellow-400':user.plan==='basic'?'bg-blue-500/20 text-blue-400':'bg-gray-500/20 text-gray-400'),children:[user.plan==='premium'&&/*#__PURE__*/_jsx(Crown,{size:10,className:\"mr-1\"}),user.plan==='basic'&&/*#__PURE__*/_jsx(Shield,{size:10,className:\"mr-1\"}),(user.plan||'free').toUpperCase()]})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"flex items-center space-x-3 px-4 py-3 w-full rounded-md text-gray-400 hover:text-red-400 hover:bg-red-400/10 transition-all duration-200\",children:[/*#__PURE__*/_jsx(LogOut,{size:20}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Sair\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-4 border-t border-white/5 mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-600 font-mono\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Status: \",/*#__PURE__*/_jsx(\"span\",{className:\"text-neon\",children:\"ONLINE\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-1\",children:\"v2.0.0\"})]})})]})}),!sidebarOpen&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSidebarOpen(true),className:\"fixed top-4 left-4 z-50 p-3 bg-[#0a0a0a] border border-white/10 rounded-md text-neon\",\"data-testid\":\"open-sidebar-btn\",children:/*#__PURE__*/_jsx(Menu,{size:24})}),/*#__PURE__*/_jsx(\"main\",{className:\"transition-all duration-200 \".concat(sidebarOpen?'ml-64':'ml-0',\" p-4 md:p-8 min-h-screen\"),children:children})]});};export default DashboardLayout;","map":{"version":3,"names":["React","useState","Link","useLocation","Home","Users","MessageSquare","UserPlus","Settings","Activity","Menu","X","Radio","FileText","LogOut","User","Crown","Shield","Store","useAuth","BackgroundBubbles","jsx","_jsx","jsxs","_jsxs","DashboardLayout","_ref","children","location","user","logout","sidebarOpen","setSidebarOpen","window","innerWidth","menuItems","icon","label","path","is_admin","push","handleLogout","className","concat","onClick","size","map","item","Icon","isActive","pathname","to","toLowerCase","replace","name","email","plan","toUpperCase"],"sources":["/app/frontend/src/components/DashboardLayout.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { Home, Users, MessageSquare, UserPlus, Settings, Activity, Menu, X, Radio, FileText, LogOut, User, Crown, Shield, Store } from 'lucide-react';\nimport { useAuth } from '../contexts/AuthContext';\nimport BackgroundBubbles from './BackgroundBubbles';\n\nconst DashboardLayout = ({ children }) => {\n  const location = useLocation();\n  const { user, logout } = useAuth();\n  const [sidebarOpen, setSidebarOpen] = useState(window.innerWidth >= 1024);\n\n  const menuItems = [\n    { icon: Home, label: 'Dashboard', path: '/' },\n    { icon: Users, label: 'Contas', path: '/accounts' },\n    { icon: Store, label: 'Marketplace', path: '/marketplace' },\n    { icon: Radio, label: 'Broadcast Grupos', path: '/broadcast-groups' },\n    { icon: FileText, label: 'Templates', path: '/templates' },\n    { icon: Activity, label: 'Extrair Membros', path: '/extract' },\n    { icon: MessageSquare, label: 'Enviar Mensagens', path: '/messages' },\n    { icon: UserPlus, label: 'Adicionar ao Grupo', path: '/add-to-group' },\n    { icon: Settings, label: 'Logs', path: '/logs' },\n    { icon: Crown, label: 'Planos', path: '/plans' },\n  ];\n  \n  // Add admin menu item if user is admin\n  if (user?.is_admin) {\n    menuItems.push({ icon: Shield, label: 'Admin', path: '/admin' });\n  }\n\n  const handleLogout = () => {\n    logout();\n  };\n\n  return (\n    <div className=\"min-h-screen bg-void text-foreground font-sans\">\n      <BackgroundBubbles />\n      \n      {/* Sidebar - otimizado sem blur */}\n      <aside\n        className={`fixed left-0 top-0 h-full bg-[#0a0a0a] border-r border-white/10 transition-all duration-200 z-50 ${\n          sidebarOpen ? 'w-64' : 'w-0'\n        } overflow-hidden`}\n      >\n        <div className=\"p-6 flex flex-col h-full\">\n          <div className=\"flex items-center justify-between mb-8\">\n            <h1 className=\"text-2xl font-mono font-bold text-neon tracking-tight\">\n              TOXIC SYNC\n            </h1>\n            <button\n              onClick={() => setSidebarOpen(false)}\n              className=\"lg:hidden text-gray-400 hover:text-neon\"\n              data-testid=\"close-sidebar-btn\"\n            >\n              <X size={24} />\n            </button>\n          </div>\n          \n          <nav className=\"space-y-2 flex-1\">\n            {menuItems.map((item) => {\n              const Icon = item.icon;\n              const isActive = location.pathname === item.path;\n              \n              return (\n                <Link\n                  key={item.path}\n                  to={item.path}\n                  data-testid={`nav-${item.label.toLowerCase().replace(/\\s+/g, '-')}`}\n                  className={`flex items-center space-x-3 px-4 py-3 rounded-md transition-all duration-200 ${\n                    isActive\n                      ? 'bg-neon/10 text-neon border-l-4 border-neon shadow-[0_0_20px_rgba(0,255,65,0.15)]'\n                      : 'text-gray-400 hover:text-white hover:bg-white/5'\n                  }`}\n                >\n                  <Icon size={20} />\n                  <span className=\"font-medium\">{item.label}</span>\n                </Link>\n              );\n            })}\n          </nav>\n          \n          {/* User Section */}\n          <div className=\"border-t border-white/10 pt-4 mt-4\">\n            {user && (\n              <div className=\"flex items-center space-x-3 px-4 py-2 mb-3\">\n                <div className=\"bg-neon/20 p-2 rounded-full\">\n                  <User size={16} className=\"text-neon\" />\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"text-sm font-medium text-white truncate\">{user.name}</p>\n                  <p className=\"text-xs text-gray-500 truncate\">{user.email}</p>\n                  <span className={`inline-flex items-center mt-1 px-2 py-0.5 rounded-full text-xs ${\n                    user.plan === 'premium' ? 'bg-yellow-500/20 text-yellow-400' :\n                    user.plan === 'basic' ? 'bg-blue-500/20 text-blue-400' :\n                    'bg-gray-500/20 text-gray-400'\n                  }`}>\n                    {user.plan === 'premium' && <Crown size={10} className=\"mr-1\" />}\n                    {user.plan === 'basic' && <Shield size={10} className=\"mr-1\" />}\n                    {(user.plan || 'free').toUpperCase()}\n                  </span>\n                </div>\n              </div>\n            )}\n            \n            <button\n              onClick={handleLogout}\n              className=\"flex items-center space-x-3 px-4 py-3 w-full rounded-md text-gray-400 hover:text-red-400 hover:bg-red-400/10 transition-all duration-200\"\n            >\n              <LogOut size={20} />\n              <span className=\"font-medium\">Sair</span>\n            </button>\n          </div>\n          \n          <div className=\"pt-4 border-t border-white/5 mt-4\">\n            <div className=\"text-xs text-gray-600 font-mono\">\n              <div>Status: <span className=\"text-neon\">ONLINE</span></div>\n              <div className=\"mt-1\">v2.0.0</div>\n            </div>\n          </div>\n        </div>\n      </aside>\n\n      {/* Mobile Menu Button - otimizado */}\n      {!sidebarOpen && (\n        <button\n          onClick={() => setSidebarOpen(true)}\n          className=\"fixed top-4 left-4 z-50 p-3 bg-[#0a0a0a] border border-white/10 rounded-md text-neon\"\n          data-testid=\"open-sidebar-btn\"\n        >\n          <Menu size={24} />\n        </button>\n      )}\n\n      {/* Main Content */}\n      <main\n        className={`transition-all duration-200 ${\n          sidebarOpen ? 'ml-64' : 'ml-0'\n        } p-4 md:p-8 min-h-screen`}\n      >\n        {children}\n      </main>\n    </div>\n  );\n};\n\nexport default DashboardLayout;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}